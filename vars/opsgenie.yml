sync_delete: false

users:
  - username: "anand@cjestel.net"
    fullName: "Anand"
    role: "Admin"
    tags:
      - "dataops"

  - username: "testuser@ireachsol.com"
    fullName: "testuser"
    role: "user"
    tags:
      - "dataops"

  - username: "testuser1@ireachsol.com"
    fullName: "testuser1"
    role: "user"
    tags:
      - "dataops"

  - username: "testuser2@ireachsol.com"
    fullName: "testuser2"
    role: "user"
    tags:
      - "dataops"



notification:
      - name: "Notification_for_schedule"
        user: anand@ireachsol.com
        actionType: "add-note"
        enabled: 'true'
        criteria:
          type: "match-all"
        order: 1
        notificationTime : 
          - "1-hour-ago"
        # schedules: 
        #   - name: "Test_Schedule"
        #     type: schedule
        repeat:
          loopAfter: 2
        # timeRestriction:
        #   type: time-of-day
        #   restriction: 
        #     startHour: 3
        #     startMin: 15
        #     endHour: 5
        #     endMin: 30schedules:
    - name: "Schedule | Postgres team schedule"
      schedule_name: "dataops_postgres_schedule_1"
      enabled: true
      ownerTeam: dataops_postgres
      timezone: "UTC-5"
      description: "Creating Schedule through Playbooks for team postgres"
        
    - name: "Schedule | SQLServer team schedule"
      schedule_name: "dataops_sql_schedule_1"
      enabled: true
      ownerTeam: dataops_sql
      timezone: "UTC-5"
      description: "Creating Schedule through Playbooks for team sql"

rotations:
      - name: "Postgres_test_schedule_rotation_1"
        scheduleName: "dataops_postgres_schedule_1"
        startDate: "2023-06-19T05:00:00Z"
        endDate: "2023-06-30T05:00:00Z"
        type: "daily"
        participants:
          - username: "testuser1@ireachsol.com"
            type: user
            
          - username: "testuser1@ireachsol.com"
            type: userteam_members:
    - name: "Adding CJ to postgres team"
      teamname: postgres
      role: admin
      user: 
        username: opsgenie@cjestel.net

    - name: "Adding anand to postgres team"
      teamname: dataops
      role: admin
      user: 
        username: anand@ireachsol.com


teams:
    - name: "DataOps"
      description: "DataOps team centralized team for alerting (managed by ansible)"

    - name: "dataops_postgres"
      description: "Postgres DB alerts"
      members: 
        - role: "admin"
          user:
            username: testuser@ireachsol.com
            
    - name: "dataops_sql"
      description: "DataOps team alerts"
      members: 
        - role: "admin"
          user:
            username: testuser1@ireachsol.com

sync_delete: true
teams:
    - name: "dataops_postgres"
      description: "Postgres DB alerts"
      members: 
        - role: "admin"
          user:
            username: testuser@ireachsol.com
            
    - name: "dataops_sql"
      description: "DataOps team alerts"
      members: 
        - role: "admin"
          user:
            username: testuser1@ireachsol.com

team_members:
    - name: "Adding CJ Estel to DataOps team"
      teamname: DataOps
      role: admin
      user:
        username: charles.estel@experityhealth.com

    - name: "Adding Guy Kayembe to DataOps team"
      teamname: DataOps
      role: admin
      user:
        username: guy.kayembe@experityhealth.com

    - name: "Adding Jayachand Chennupati to DataOps team"
      teamname: DataOps
      role: user
      user:
        username: jayachand.chennupati@experityhealth.com

    - name: "Adding Pablo Gutierrez Fluchaire to DataOps team"
      teamname: DataOps
      role: user
      user:
        username: pablo.gutierrez@experityhealth.com
escalation:
    - name: "escalation_creation_test01"
      ownerTeam: 
        name: postgres
      rules:
        - delay: 
            timeAmount: 1
          recipient:
            name: Test_Schedule
            type: schedule
          notifyType: "default"
          condition: "if-not-acked"
      # repeat:                        ### Escalation Repeat feature is not available for your current plan, please consider upgrading to a plan with Enhanced Escalations
      #   waitInterval: 15
      #   count: 5
      #   resetRecipientStates: true
      #   closeAlertAfterAll: true
